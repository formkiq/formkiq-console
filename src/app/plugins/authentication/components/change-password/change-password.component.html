<div class="row">
  <div class="col-12 px-4">
    <h5>Change Password</h5>
  </div>
</div>
<button [hidden]="!showVerificationCodeResendButton" class="btn btn-primary mt-2 mb-5" (click)="requestPasswordResetVerificationCodeResend()">
  Send New Reset Code
</button>
<form [hidden]="showVerificationCodeResendButton" [formGroup]="form" class="px-2 py-2">
  <div [hidden]="verificationCode" class="form-group">
    <label for="field-old-password">Current Password</label>
    <input
      type="password"
      class="form-control"
      id="field-old-password"
      formControlName="oldPassword"
      [ngClass]="{ 'is-invalid': formSubmitted && f.oldPassword.errors }"
      placeholder="current password"
      placement="left"
      ngbTooltip="Current password is too short"
      [autoClose]="false"
      triggers="manual"
      #oldPasswordTooltip="ngbTooltip"
      tooltipClass="warning-tooltip"
      (keyup)="checkIfOldPasswordStillInvalid(oldPasswordTooltip)"
      >
  </div>
  <div class="form-group">
    <label for="field-password">Password</label>
    <input
      type="password"
      class="form-control"
      id="field-password"
      formControlName="password"
      [ngClass]="{ 'is-invalid': formSubmitted && f.password.errors }"
      placeholder="password"
      placement="left"
      ngbTooltip="Password is too short"
      [autoClose]="false"
      triggers="manual"
      #passwordTooltip="ngbTooltip"
      tooltipClass="warning-tooltip"
      (keyup)="checkIfPasswordStillInvalid(passwordTooltip)"
      >
  </div>
  <div class="form-group">
    <label for="field-password-confirmation">Repeat Password</label>
    <input
      type="password"
      class="form-control"
      id="field-password-confirmation"
      formControlName="passwordConfirmation"
      [ngClass]="{ 'is-invalid': formSubmitted && f.passwordConfirmation.errors }"
      placeholder="repeat password"
      placement="left"
      ngbTooltip="Passwords do not match"
      [autoClose]="false"
      triggers="manual"
      #passwordConfirmationTooltip="ngbTooltip"
      tooltipClass="warning-tooltip"
      (keyup)="checkIfPasswordConfirmationStillInvalid(passwordConfirmationTooltip)"
      >
  </div>
  <button type="submit" class="btn btn-primary" (click)="changePassword(oldPasswordTooltip, passwordTooltip, passwordConfirmationTooltip)">Change Password</button>
  <span class="px-1"></span>
  <button type="submit" class="btn btn-primary" (click)="cancel()">Cancel</button>
</form>
